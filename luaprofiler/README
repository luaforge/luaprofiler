LuaProfiler
http://www.keplerproject.org/luaprofiler

LuaProfiler is a time profiler designed to help finding bottlenecks on your Lua program.

If you use LuaProfiler into your program, it will generate a log of all your function calls
and their respective running times. You can use this log to generate a summary of the
functions your program uses, along with how long it stayed in each of them, or you can
import the log into a spreadsheet for further analysis.

LuaProfiler is free software and uses the same license as Lua 5.1.

Current version is 2.0.1 It was developed for Lua 5.1, 5.0, 4.0.1 and 3.2.

LuaProfiler can be downloaded from the LuaForge page.

Installation

LuaProfiler source is distributed as a group of C files and some makefile templates.
For older versions of Lua (3.2 and 4.0), LuaProfiler must be embedded in your application
(linked with it). You must call the function init_profiler() to start profiling from C code.

LuaProfiler follows the package model for Lua 5.1, therefore it should be "installed" in your package.path.

Windows users can use the pre-compiled version of LuaProfiler (profiler.dll) available at LuaForge.